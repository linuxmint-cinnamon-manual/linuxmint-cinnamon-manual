<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=" ">
<title>Прочие настройки  | Linux Mint и его Cinnamon (Алексей Alv Федорчук)</title>
<link rel="stylesheet" type="text/css" href="/css/syntax.css">
<link rel="stylesheet" type="text/css" href="/css/font-awesome.min.css">
<link rel="stylesheet" type="text/css" href="/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="/css/modern-business.css">
<link rel="stylesheet" type="text/css" href="/css/lavish-bootstrap.css">
<link rel="stylesheet" type="text/css" href="/css/customstyles.css">
<link rel="stylesheet" type="text/css" href="/css/theme-green.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="/js/jquery.navgoco.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/customscripts.js"></script>
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->







 
    <script>
      $(function () {
        $('[data-toggle="tooltip"]').tooltip()
      })
    </script>
  </head>

<body>
  <!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
           
            <a class="fa fa-home fa-lg navbar-brand" href="/index.html">&nbsp;<span class="projectTitle"> Linux Mint и его Cinnamon</span></a>
            
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
















                
                
                
                
                <li><a href="https://github.com/linuxmint-cinnamon-manual/linuxmint-cinnamon-jekyll" target="_blank">Github Repo</a></li>
                
                
                
                


                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->

                <li class="dropdown">
                    
                    
                    
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Resources<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        
                        <li><a href="doc_about.html">About this theme</a></li>
                        
                        
                        
                        
                        
                        <li><a href="doc_support.html">Support</a></li>
                        
                        
                        
                        
                        
                        <li><a href="doc_troubleshooting.html">Troubleshooting</a></li>
                        
                        
                        
                        
                        
                        <li><a href="https://talk.jekyllrb.com" target="_blank">Jekyll Talk</a></li>
                        
                        
                        
                        

                    </ul>
                </li>
                
                


                <!-- special insertion -->

               
                <!-- Send feedback function -->
<script>
function SendLinkByMail(href) {
var subject= "Linux Mint и его Cinnamon (Алексей Alv Федорчук) feedback";
var body = "I have some feedback about the Прочие настройки page: ";
body += window.location.href;
body += "";
var uri = "mailto:nemilya@gmail.com?subject=";
uri += encodeURIComponent(subject);
uri += "&body=";
uri += encodeURIComponent(body);
window.location.href = uri;
}
</script>

<li><a href="javascript:(function()%7BSendLinkByMail()%3B%7D)()%3B" target="_blank"><i class="fa fa-envelope-o"></i> Feedback</a></li>


                <li>
                <!-- start search -->
                <div id="search-demo-container">
                <input type="text" id="search-input" placeholder="search...">
                <ul id="results-container"></ul>
                </div>
                <script src="js/jekyll-search.js" type="text/javascript"></script>
                <script type="text/javascript">
                SimpleJekyllSearch.init({
                searchInput: document.getElementById('search-input'),
                resultsContainer: document.getElementById('results-container'),
                dataSource: 'search.json',
                searchResultTemplate: '<li><a href="{url}" title="Прочие настройки">{title}</a></li>',
                noResultsText: 'No results found.',
                limit: 10,
                fuzzy: true,
                })
                </script>
                <!-- end search -->
                </li>

                
<script language="JavaScript" type="text/javascript">

    $( document ).ready(function() {
        if (top.location == location)  {
            $(".escapeMe").remove();
        }

    });

            function breakout_of_frame() {
                if (top.location != location) {
                    window.open(window.location.href, '_blank');

                }

            }
</script>

<li class="escapeMe">
    <a href="#" onclick="breakout_of_frame()" ><i class="fa fa-sign-out"></i> Pop-out</a>
</li>


        </div>
        <!-- /.container -->
</nav>

  <!-- Page Content -->
  <div class="container">
    <div class="col-lg-12">&nbsp;</div>
    
      <!-- Content Row -->
<div class="row">
  <!-- Sidebar Column -->
  <div class="col-md-3">
    <script>
      $(document).ready(function() {
        // Initialize navgoco with default options
        $("#mysidebar").navgoco({
          caretHtml: '',
          accordion: true,
          openClass: 'active', // open
          save: false, // leave false or nav highlighting doesn't work right
          cookie: {
            name: 'navgoco',
            expires: false,
            path: '/'
          },
          slide: {
            duration: 400,
            easing: 'swing'
            }
          });

          $("#collapseAll").click(function(e) {
            e.preventDefault();
            $("#mysidebar").navgoco('toggle', false);
          });

          $("#expandAll").click(function(e) {
            e.preventDefault();
            $("#mysidebar").navgoco('toggle', true);
          });

        });
      </script>

    
















    <ul id="mysidebar" class="nav">
      <div class="siteTagline">Linux&nbsp;Mint Cinnamon</div>
      <div class="versionTagline">version 17.1 (Rebecca)</div>

      
        
          <li><a href="#">Вступление</a>
            <ul>
            
              
              
              
                <li><a href="/ru/17-1-Rebecca/index.html">Аннотация</a></li>
              

              
          </li>
        
              
              
              
                <li><a href="/ru/17-1-Rebecca/010_about_book.html">Об этой книге</a></li>
              

              
          </li>
        
        
        </ul>
          <!-- </li> -->
        
          <li><a href="#">Введение</a>
            <ul>
            
              
              
              
                <li><a href="/ru/17-1-Rebecca/020_linux_mint_into.html">Введение в Linux Mint</a></li>
              

              
          </li>
        
              
              
              
                <li><a href="/ru/17-1-Rebecca/030_cinnamon_intro.html">Введение в Cinnamon</a></li>
              

              
          </li>
        
        
        </ul>
          <!-- </li> -->
        
          <li><a href="#">Linux Mint: установка</a>
            <ul>
            
              
              
              
                <li><a href="/ru/17-1-Rebecca/040_linux_mint_installation.html">Linux Mint: установка</a></li>
              

              
          </li>
        
        
        </ul>
          <!-- </li> -->
        
          <li><a href="#">Mint и Cinnamon</a>
            <ul>
            
              
              
              
                <li><a href="/ru/17-1-Rebecca/050_mint_and_cinnamon_obzor.html">Обзор среды</a></li>
              

              
          </li>
        
              
              
              
                <li><a href="/ru/17-1-Rebecca/060_cinnamon_system_config.html">Cinnamon и системные настройки</a></li>
              

              
          </li>
        
              
              
              
                <li><a href="/ru/17-1-Rebecca/070_section_parameters.html">Секция Параметры</a></li>
              

              
          </li>
        
              
              
              
                <li><a href="/ru/17-1-Rebecca/080_devices.html">Секция Оборудование</a></li>
              

              
          </li>
        
              
              
              
                <li><a href="/ru/17-1-Rebecca/090_admins.html">Секция Администрирование</a></li>
              

              
          </li>
        
              
              
              
                <li><a href="/ru/17-1-Rebecca/100_mint_utils.html">Mint: фирменный инструментарий</a></li>
              

              
          </li>
        
              
              
              
                <li class="active"><a href="/ru/17-1-Rebecca/110_other_config.html">Прочие настройки</a></li>
              

              
          </li>
        
        
        </ul>
          <!-- </li> -->
        
      
    </ul>

    
  </div>
  <!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above.-->
  <script>$("li.active").parents('li').toggleClass("active");</script>

    
    <!-- Content Column -->
    <div class="col-md-9">
      <div class="post-header">
   <h1 class="post-title-main">Прочие настройки</h1>
</div>

<div class="post-content">

   

<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>


  <p>В предыдущих очерках говорилось о штатных инструментах для настройки дистрибутива Mint и его среды Cinnamon. Чтобы закончить с этой тему, скажу несколько слов об инструментах конфигурирования не то чтобы нештатных, но непосредственно ни к дистрибутиву, ни к среде не привязанных. И к которым приходится обращаться не так уж часто.</p>

<h3 id="Редактор-dconf">Редактор dconf</h3>

<p>Редактор <code>dconf</code> появился в GNOME 3 и ныне применяется для низкоуровнего конфигурирования, кроме родительсккой среды, также в Unity, MATE и Cinnamon. Он позволяет напрямую редактировать всю базу конфигурации, как общесистемную, так и штатных пользовательских приложений. И, хотя делает это и не самым простым способом, но даёт доступ к тем настройкам, которые разработчики сред посчитали недостойными внимания конечных пользователей. Или, скорее, решили, что народу они не нужны.</p>

<p>Правда, в Cinnamon таких замаскированных настроек очень мало. И если в Unity обращаться к <code>Редактору dconf</code> приходится постоянно, а в MATE — периодически, то в нашей среде у меня поводы для запуска этой утилиты возникали буквально считанные разы.</p>

<p>Запускается эта утилита, кстати, через пункт <code>Редактор dconf</code> в секции <code>Администрирование</code> главного меню, после чего предстаёт в таком виде:</p>

<p><a href="http://alv.me/wp-content/img/2015/02/dconf_001.png"><img src="http://alv.me/wp-content/img/im_cin_img/dconf_001-572x369.png" alt="Изображение223"></a></p>

<p>Каждый пункт во фрейме слева разворачивается каскадом вложенных пунктиков и подпунктиков, имя которым далеко превышает легион. И описывать которые я не буду. А дам пару практических рецептов для включения некоторых опций, недоступных через <code>Системные настройки</code> среды Cinnamon.</p>

<p>Ранее я упоминал, что в текущей версии Cinnamon возможность сохранения сеанса из пункта Автостарт изъята. Но в <code>Редакторе dconf</code> она осталась. И доступ к ней осуществляется по схеме <code>org.cinnamon.SessionManager</code>, где следует включить параметр (в терминологии dconf — ключ) <code>auto-save-session</code>:</p>

<p><a href="http://alv.me/wp-content/img/2015/02/dconf_002.png"><img src="http://alv.me/wp-content/img/im_cin_img/dconf_002-572x369.png" alt="Изображение224"></a></p>

<p>Не так давно мы весьма подробно рассмотрели конфигурирование раскладок клавиатуры и их переключателей через соответствующий модуль <code>Системных настроек</code> Cinnamon. И пришли к выводу, что тут можно настроить всё, что только душе угодно. Тогда же было упомянуто, что всё то же самое можно проделать и в <code>Редакторе dconf</code>. Для чего достаточно проследовать по <code>org.gnome.libgnomekbd.keyboard</code> и заполнить желаемым образом поля <code>layouts</code>, <code>model</code> и <code>options</code>:</p>

<p><a href="http://alv.me/wp-content/img/2015/02/dconf_003.png"><img src="http://alv.me/wp-content/img/im_cin_img/dconf_003-572x369.png" alt="Изображение225"></a></p>

<p>Как заполнить — описывать не буду, потому что через модуль <code>Клавиатура</code> в <code>Системных настройках</code> это сделать проще. А вот если пройти по схеме <code>org.gnome.libgnomekbd.desktop</code>, то можно включить ключ <code>load-exta-items</code>:</p>

<p><a href="http://alv.me/wp-content/img/2015/02/dconf_004.png"><img src="http://alv.me/wp-content/img/im_cin_img/dconf_004-572x369.png" alt="Изображение226"></a></p>

<p>Это обеспечит загрузку редко используемых раскладок клавиатуры. В частности, для русской раскладки окажутся доступными дополнительные варианты — те, что пыведены курсивом:</p>

<p><a href="http://alv.me/wp-content/img/2015/02/dconf_005.png"><img src="http://alv.me/wp-content/img/im_cin_img/dconf_005-572x530.png" alt="Изображение227"></a></p>

<p>В русскоязычном окружении этот ключ практического значения не имеет, но для всяких прочих языцей — может пригодиться. Например, для программирования на APL:</p>

<p><a href="http://alv.me/wp-content/img/2015/02/dconf_006.png"><img src="http://alv.me/wp-content/img/im_cin_img/dconf_006-572x313.png" alt="Изображение228"></a></p>

<p>Впрочем, более никаких практических задач для решения в <code>Редакторе dconf</code> я не придумал.</p>

<h3 id="mint-и-консоль">Mint и консоль</h3>

<p>Всё, что было сказано о конфигурировании Mint в предыдущих очерках, относилось к настройкам графических сред, даже конкретно одной представительницы их — Cinnamon. Но ведь в Linux&#39;е есть ещё и «текстовый» режим, то есть консоль. «Текстовый» в кавычках — потому что, конечно, чисто текстовой консоли нынче не найти, наверное, ни в одном дистрибутиве, везде <code>frame buffer</code> — но уж такова традиция.</p>

<p>Любителей выполнять в «голой» консоли практическую работу нынче не так уж и много. Наверное, поэтому майнтайнеры практически всех дистрибутивов относятся к настройке консольного режима абы как, если не сказать — никак. А уж когда дело доходит до локализованных систем — это вообще туши свет. Редкий дистрибутив может похвастаться тем, что в его голой консоли в ответ на команду</p>
<div class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">$</span> date
</code></pre></div>
<p>выводятся настоящие русские буквы, а не квадратики или кракозябры.</p>

<p>Повторяю, вряд ли кто будет сочинять в консоли многотомные романы на русском языке — в основном в текстовом режиме приходится загружаться при всякого рода сбоях. Но иногда приходится. Аварийные работы тоже лучше выполнять в комфортной и приятной для глаз обстановке. Да и вообще, как говорил штабс-капитан Мышлаевский, в казарме должен быть порядок, А текстовая консоль большинства современных дистрибутивов от порядка далека.</p>

<p>К чести Mint надо сказать, что этот дистрибутив принадлежит как раз к тем редким, у которых консоль русифицирована «искаропки». Русские буквы здесь и правильно выводятся, и правильно вводятся. Причём вводятся в том самом варианте русской раскладки клавиатуры, который был задан при инсталляции системы, и переключатель раскладок (по комбинации <code>Alt+Shift</code>) оказывается таким же, как в графическом режиме. В общем, оказывается, что приложить руки к улучшательству есть где. Ибо у применителя всё должно быть прекрасно — в том числе и консоль.</p>

<p>Особенно раздражает отсутствие поддержки мыши — без неё работа в консоли, даже аварийно-спасательная, становится мучительной. Ибо мышь в консоли — устройство не указательно-позиционирующее, а копировально-вставляющее. Достаточно выделить мышью фрагмент экрана, как он попадает в экранный буфер, откуда может быть вставлен в любое место, в том числе и в другую виртуальную консоль, щелчком средней кнопки мыши. Функция, незаменимая при правке конфигов — а ведь аварийно-спасательные работы обычно к ней и сводятся.</p>

<p>Поясню (как ни странно, нынче это надо пояснять), что на современных колесовых мышах роль средней кнопки почти всегда выполняет это самое колёсико. А на ноутбучных тачпадах тот же эффект достигается одновременным нажатием обеих кнопок. Правда, что делать на входящих в моду ноутбуках с однокнопочными тачпадами — не знаю; разве что, не покупать их...</p>

<p>Из поставленных задач по улучшательству консоли проще всего решается первоочередная — включение службы консольной мыши, сиречь <code>gpm</code>. Для этого нужно, как это ни парадоксально, установить пакет <code>gpm</code>:</p>
<div class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">$</span> sudo apt install gpm
</code></pre></div>
<p>Если сделать это, находясь в чистой консоли (а перключиться в любую из них можно по комбинации клавиш <code>Control+Alt+F#</code>, <code>#</code> — от 1 до 6; возврат в графический сеанс — <code>Alt+F8</code>), то немедленно после завершения установки можно будет увидеть курсор мыши в виде прямоугольничка. И теперь, по крайней мере, не придётся при всяких ремонтно-восстановительных работах вводить много лишних символов — в распоряжении применителя описанный выше «мышиный» буфер.</p>

<p>Следующая задача на очереди — установка удобочитаемого экранного шрифта. Проще всего она решается утилитой <code>dpkg-reconfigure</code>. Вызванная в таком виде</p>
<div class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">$</span> sudo dpkg-reconfigure console-setup
</code></pre></div>
<p>она запустит псевдографическую программу, настройки экранных шрифтов для консоли. Которая сначала попросит выбрать кодировку:</p>

<p><a href="http://alv.me/wp-content/img/2014/12/param_078.png"><img src="http://alv.me/wp-content/img/im_cin_img/param_078-572x363.png" alt="Изображение229"></a></p>

<p>Затем спросит об используемой таблице символов:</p>

<p><a href="http://alv.me/wp-content/img/2014/12/param_079.png"><img src="http://alv.me/wp-content/img/im_cin_img/param_079-572x382.png" alt="Изображение230"></a></p>

<p>Потом последует предложение выбрать шрифт:</p>

<p><a href="http://alv.me/wp-content/img/2014/12/param_080.png"><img src="http://alv.me/wp-content/img/im_cin_img/param_080-572x382.png" alt="Изображение231"></a></p>

<p>Далее будет проведён маленький ликбез о консольных шрифтах и условиях их использования:</p>

<p><a href="http://alv.me/wp-content/img/2014/12/param_081.png"><img src="http://alv.me/wp-content/img/im_cin_img/param_081-572x382.png" alt="Изображение232"></a></p>

<p>Не советую им пренебрегать — после этого легче сделать осознанный выбор матрицы шрифта (типографские термины к консольным шрифтам не применимы):</p>

<p><a href="http://alv.me/wp-content/img/2014/12/param_082.png"><img src="http://alv.me/wp-content/img/im_cin_img/param_082-572x382.png" alt="Изображение233"></a></p>

<p>После этого происходит выход из интерфейса утилиты, и всё заказанное претворяется в действительность. Процесс этот связан с регенерацией <code>initrd</code>, так что его результат можно будет увидеть только после рестарта — с которым, впрочем, не обязательно торопиться.</p>

<p>Третья задача очень важна для меня — но возможно, что большинству применителей решать её не придётся. Я использую сочетание варианта <code>Typewriter Legacy</code> для кириллической раскладки и <code>CapsLock</code> в качестве переключателя латиница/кириллица. Когда-то эта была стандартная комбинация (именно такова была первая русская раскладка для UNIX-косоли, созданная Андреем Черновым aka ache), но ныне воспринимается как экзотика. И её «спаривание» для консоли Linux требует некоторых усилий. В частности, в большинстве дистрибутивов мне приходилось прибегать к раскладке, изготовленной собственноручно.</p>

<p>А вот в Mint эти усилия минимальны. Я имел не один раз повод радостно сообщить, что выбранная при установке раскладка клавиатуры и один из её вариантов (среди которых имеется и Typewriter Legacy) наследуется не только Иксами, но и консолью установленной системы. Правда, с переключением раскладок по <code>Alt+Shift</code>, порождённым каким-то умником в недрах Microsoft&#39;а вместе с раскладкой winkeys (также одной из самых неудобных, какую только можно придумать).</p>

<p>Однако задача с изменением переключателя решается очень просто: достаточно отредактировать файл <code>/etc/default/keyboard</code>. Он практически точно совпадает с клавиатурной секцией старого <code>/etc/X11/xorg.conf</code> или современного <code>/etc/X11/xorg.conf.d/10-keymap.conf</code>, и по умолчанию выглядит так:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">XKBMODEL=&quot;pc105&quot;

XKBLAYOUT=&quot;us,ru&quot;

XKBVARIANT=&quot;,typewriter-legacy&quot;

XKBOPTIONS=&quot;grp:alt_shift_toggle,grp_led:scroll&quot;
</code></pre></div>
<p>Так что в нём достаточно заменить значение переключателя <code>alt_shift_toggle</code> на желаемое, например, для меня — на <code>caps_toggle</code>. После чего можно с чистым сердцем перегружаться и, авторизовавшись в любой текстовой консоли, любоваться красивыми шрифтами семейства Terminus, созданными Димитром Жековым, набирать русские буквы в привычной раскладке и, при необходимости, копировать набранное из консоли в консоль через «мышиный» буфер.</p>

<h3 id="grub2-восстановление-загрузчика">GRUB2: восстановление загрузчика</h3>

<p>В заключение всей «конфигурационной солянки» — пара слов о загрузчике GRUB2. Материалов в Сети на эту тему немерянно (одним из самых полезных мне представляется <a href="http://ru.wikibooks.org/wiki/Grub_2#.D0.92.D0.BE.D1.81.D1.81.D1.82.D0.B0.D0.BD.D0.BE.D0.B2.D0.BB.D0.B5.D0.BD.D0.B8.D0.B5_GRUB2_.D1.81_LiveCD._.D1.81.D0.BF.D0.BE.D1.81.D0.BE.D0.B1_3_.28.D1.81.D0.BE.D0.B2.D1.81.D0.B5.D0.BC_.D0.BF.D1.80.D0.BE.D1.81.D1.82.D0.BE.D0.B9.29">вот этот</a>), и пересказывать их я не намерен. А остановлюсь только на восстановлении загрузчика в случае его порчи по каким-либо причинам.</p>

<p>Есть несколько методов восстановления GRUB2, я опишу тот, который представляется мне самым простым.</p>

<p>Для начала надо иметь Live-носитель Mint в любом виде — DVD-, флешки, SD-карты, каковой помещается куда следует. При рестарте машины, обычно в момент появления логотипа производителя, нужно успеть нажать клавишу быстрого выбора загрузочного устройства — для современных ASUS&#39;овских «матерей» это <code>F8</code>, для ASRock&#39;овских — <code>F11</code>, для прочих — см. документацию. И в появившемся меню выбрать нужный пункт, он обычно называется явным образом. Происходит загрузка Live-среды, каковая в нашем случае представлена Mint с Cinnamon-окружением.</p>

<p>Далее следует опознать имя файла устройства, несущего корневой раздел системы, загрузчик которой подлежит восстановлению — подчёркиваю, требуется имя устройства, а не раздела. Это можно сделать просмотром вывода либо команды</p>
<div class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">$</span> sudo fdisk -l
</code></pre></div>
<p>либо команды</p>
<div class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">$</span> ls /dev/sd*
</code></pre></div>
<p>Предположим для определённости, что это устройство <code>/dev/sda</code>. Теперь корневой раздел монтируется в файловую систему Live-среды. Прще всего сделать это через <code>Nemo</code> — в его боковой панели, в секции Носители, отражаются все присутствующие в машине дисковые устройства. И достаточно выбрать пункт Присоединить контекстного меню или просто «левокликнуть» на соответствующем имени. Теперь главное — определить точку монтирования. В Mint (как и во всех Ubuntu&#39;идах) временно смотированные устройства попадают в каталог <code>/media/username</code>, устройства с меткой — в подкаталог с её именем, без оной — в подкаталог с универсальным идентификатором устройства (<code>UID</code>), это полуметровая зубодробительная последовательность букв и цифр.</p>

<p>А вот теперь — собственно восстановление загрузчика. Оно выполняется одной командой:</p>
<div class="highlight"><pre><code class="language-console" data-lang="console"><span class="gp">$</span> sudo grub-install --root-directory<span class="o">=</span>/media/username/mount_point /dev/sda
</code></pre></div>
<p>Здесь <code>mount_point</code> — метка диска или его очень простой UID вроде <code>d55aebcb-7e7d-4d34-aff4-ed6e494e9b7f</code>. Автодополнение в этом случае не работает, однако, даже если устройство не «помечено», его UID можно взять из файла <code>/etc/mtab</code>, описывающего временно смонтированные устройства, или, открыв его в <code>Nemo</code>, из адресной строки последнего.</p>

<p>На этом дело восстановления загрузчика закончено — можно перезагружаться в нормальном режиме.</p>


  <br />
      <div class='row'>
        <div class='col-sm-4 col-xs-6'>
          <a href='/ru/17-1-Rebecca/100_mint_utils.html'>&larr; Mint: фирменный инструментарий</a>
        </div>
        <div class='col-sm-4 hidden-xs' style='text-align: center'>
          | <b>Прочие настройки</b> |
        </div>
        <div class='col-sm-4 col-xs-6' style='text-align: right'>
          
        </div>
      </div>

</div>



<footer>
  <div class="row">
    <div class="col-lg-12 footer">
      2015 Алексей Alv Федорчук.<br />
       Site last generated: Feb 4, 2016 <br />
      <p><a href="http://linuxmint.com/"><img title="http://linuxmint.com/" width="50" src="/images/menu.svg"/></a></p>
    </div>
  </div>
</footer>

    </div><!-- /.row -->
  </div>    <!-- /.container -->
</body>

</html>
